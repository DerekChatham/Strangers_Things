{"ast":null,"code":"import _regeneratorRuntime from\"/home/derekchatham/Strangers_Things/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/derekchatham/Strangers_Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import{useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SinglePost=function SinglePost(_ref){var posts=_ref.posts;var _useParams=useParams(),postId=_useParams.postId;var post=posts.find(function(post){return postId===post._id;});console.log('SINGLE POST',post);var deletePost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(BASE_URL,\"/posts/\").concat(post._id),{method:\"DELETE\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem(\"token\"))}});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function deletePost(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:post?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:post.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Posted by: \",post.author.username]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \",post.price]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Location: \",post.location]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Delivers: \",post.willDeliver?'Yes':'No']}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:deletePost,children:\"Delete Post\"})})]}):''});};export default SinglePost;","map":{"version":3,"sources":["/home/derekchatham/Strangers_Things/src/components/SinglePost.js"],"names":["React","useParams","SinglePost","posts","postId","post","find","_id","console","log","deletePost","fetch","BASE_URL","method","headers","localStorage","getItem","response","json","data","title","author","username","price","location","willDeliver"],"mappings":"yOAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,KAA0B,kBAA1B,C,6IAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAe,IAAZC,CAAAA,KAAY,MAAZA,KAAY,CAChC,eAAmBF,SAAS,EAA5B,CAAQG,MAAR,YAAQA,MAAR,CACA,GAAMC,CAAAA,IAAI,CAAGF,KAAK,CAACG,IAAN,CAAW,SAACD,IAAD,QAAUD,CAAAA,MAAM,GAAKC,IAAI,CAACE,GAA1B,EAAX,CAAb,CACAC,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BJ,IAA3B,EAEA,GAAMK,CAAAA,UAAU,2FAAG,2LAEQC,CAAAA,KAAK,WAAIC,QAAJ,mBAAsBP,IAAI,CAACE,GAA3B,EAAmC,CAC7DM,MAAM,CAAE,QADqD,CAE7DC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEP,iCAA2BC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA3B,CAFO,CAFoD,CAAnC,CAFb,QAETC,QAFS,qCAWIA,CAAAA,QAAQ,CAACC,IAAT,EAXJ,QAWTC,IAXS,8FAefX,OAAO,CAACC,GAAR,cAfe,oEAAH,kBAAVC,CAAAA,UAAU,2CAAhB,CAmBA,mBACE,yBACGL,IAAI,cACH,oCACE,oBAAKA,IAAI,CAACe,KAAV,EADF,cAEE,mCAAef,IAAI,CAACgB,MAAL,CAAYC,QAA3B,GAFF,cAGE,+BAAWjB,IAAI,CAACkB,KAAhB,GAHF,cAIE,kCAAclB,IAAI,CAACmB,QAAnB,GAJF,cAKE,kCAAcnB,IAAI,CAACoB,WAAL,CAAmB,KAAnB,CAA2B,IAAzC,GALF,cAME,kCACE,eAAQ,OAAO,CAAEf,UAAjB,yBADF,EANF,GADG,CAYH,EAbJ,EADF,CAkBD,CA1CD,CA4CA,cAAeR,CAAAA,UAAf","sourcesContent":["import React from 'react';\nimport { useParams } from 'react-router-dom';\n\nconst SinglePost = ({ posts }) => {\n  const { postId } = useParams();\n  const post = posts.find((post) => postId === post._id);\n  console.log('SINGLE POST', post);\n\n  const deletePost = async () => {\n    try {\n      const response = await fetch(`${BASE_URL}/posts/${post._id}` , {\n        method: \"DELETE\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n        }\n\n      })\n\n      const data = await response.json();\n\n        \n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return (\n    <>\n      {post ? (\n        <div>\n          <h3>{post.title}</h3>\n          <p>Posted by: {post.author.username}</p>\n          <p>Price: {post.price}</p>\n          <p>Location: {post.location}</p>\n          <p>Delivers: {post.willDeliver ? 'Yes' : 'No'}</p>\n          <div>\n            <button onClick={deletePost}>Delete Post</button>\n          </div>\n        </div>\n      ) : (\n        ''\n      )}\n    </>\n  );\n};\n\nexport default SinglePost;"]},"metadata":{},"sourceType":"module"}